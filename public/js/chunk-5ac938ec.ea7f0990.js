(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ac938ec"],{"319a":function(t,n,o){},3689:function(t,n,o){"use strict";var e=o("319a"),r=o.n(e);r.a},"85a9":function(t,n,o){"use strict";o.r(n);var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("ion-page",[o("ion-header",[o("ion-toolbar",{staticClass:"toolbar",attrs:{color:"warning"}},[o("ion-row",{staticClass:"icon"}),o("ion-buttons",{attrs:{slot:"end"},slot:"end"},[o("ion-button",{on:{click:function(n){return t.go("/")}}},[o("ion-icon",{staticStyle:{"font-size":"40px"},attrs:{slot:"icon-only",name:"home"},slot:"icon-only"})],1)],1)],1)],1),o("ion-content",[o("ion-list",t._l(t.orders,(function(n){return o("ion-item-sliding",{directives:[{name:"show",rawName:"v-show",value:!n.isReady,expression:"!order.isReady"}],key:n.id},[o("ion-item",[o("ion-thumbnail",{attrs:{slot:"start"},slot:"start"},[o("img",{attrs:{src:n.food.image}})]),o("ion-label",[o("h2",[t._v(t._s(n.truck.name))]),o("h3",[t._v(t._s(n.food.name))]),o("p",[t._v(t._s(n.count)+"개")])])],1),o("ion-item-options",{attrs:{side:"end"}},[o("ion-item-option",{attrs:{color:"primary"},on:{click:function(o){return t.readyOrder(n)}}},[t._v("준비완료")])],1)],1)})),1)],1)],1)},r=[],i=o("bc3a"),s=o.n(i),a=o("db49"),c={props:["id"],data:function(){return{orders:[]}},mounted:function(){var t=this;this.$nextTick((function(){this.getOrders(),this.$ionic.toastController.create({color:"dark",duration:2e3,message:"가맹점 로그인 되었습니다"}).then((function(t){return t.present()}))}));var n=this.$pusher.subscribe("orders");n.bind("truck."+this.id,(function(n){t.$ionic.toastController.create({color:"dark",duration:2e3,message:"주문이 추가되었습니다"}).then((function(n){n.present(),t.getOrders()})),console.log("orderd!",n)}))},methods:{go:function(t){this.$router.push(t)},getOrders:function(){var t=this;s.a.get(a["a"]+"/orders?_expand=truck&_expand=food&truckId="+this.id).then((function(n){console.log(n),t.orders=n.data}))},readyOrder:function(t){var n=this;s.a.patch(a["a"]+"/orders/"+t.id,{isReady:!0}).then((function(){n.getOrders()}))}}},d=c,u=(o("3689"),o("2877")),l=Object(u["a"])(d,e,r,!1,null,null,null);n["default"]=l.exports},db49:function(t,n,o){"use strict";var e="//"+window.location.hostname+":3000";n["a"]=e}}]);
//# sourceMappingURL=chunk-5ac938ec.ea7f0990.js.map